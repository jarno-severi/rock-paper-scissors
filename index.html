<!DOCTYPE html>
<html>

<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8" />
</head>

<body>
  <script>

    // AI valitsee randomilla kivi, paperi, sakset:
    function computerPlay() {
      // Tehdään array vaihtoehdoista:
      const rpcArray = ['kivi', 'paperi', 'sakset'];
      // Numeron arpominen 1-3: 
      const random = Math.floor(Math.random() * rpcArray.length);
      // Palautetaan AI valinta rpc arraysta
      return rpcArray[random];
    }


    // Käyttäjä tekee valinnan, muutetaan kaikki pieniksi kirjaimiksi
    function playerPlay() {
      // Käyttäjä syöttää kivi, paperi, sakset 
      const select = prompt("Kivi, Paperi vai Sakset?");
      // HUOM! case-insensitive:
      return select.toLowerCase();
    }


    // Verrataan käyttäjän ja AI valintoja playRound(playerSelection, computerSelectio)
    function playRound(playerSelection, computerSelection) {

      let playerScore = 0;
      let computerScore = 0;

      if (playerSelection === computerSelection) {
        console.log("It's a tie!");
      }

      else {

        if (playerSelection === "kivi") {
          switch (computerSelection) {
            case "paperi":
              console.log("You lose! Paper beats Rock.")
              ++computerScore;
              break;

            case "sakset":
              console.log("You win! Rock beats Scissors")
              ++playerScore;
              break;
          }
        }

        if (playerSelection === "paperi") {
          switch (computerSelection) {
            case "sakset":
              console.log("You lose! Scissors beats Paper.")
              ++computerScore;
              break;

            case "kivi":
              console.log("You win! Paper beats Rock.")
              ++playerScore;
              break;
          }
        }

        if (playerSelection === "sakset") {
          switch (computerSelection) {
            case "kivi":
              console.log("You lose! Rock beats Scissors.")
              ++computerScore;
              break;

            case "paperi":
              console.log("You win! Scissors beats Paper.")
              ++playerScore;
              break;
          }
        }
      }
      return [playerScore, computerScore];
    }


    // Peliä game() pelataan yhteensä 5 kierrosta
    function game() {
      const playerSelection = playerPlay();
      const computerSelection = computerPlay();

      // console.log(playerSelection, computerSelection);

      const roundScore = playRound(playerSelection, computerSelection);

      // console.log(roundScore);
      return roundScore;
    }

    let firstRound = game();
    // console.log(firstRound[0], firstRound[1]);
    let secondRound = game();
    // console.log(secondRound[0], secondRound[1]);
    let thirdRound = game();
    // console.log(thirdRound[0], thirdRound[1]);
    let fourthRound = game();
    // console.log(fourthRound[0], fourthRound[1]);
    let fifthRound = game();
    // console.log(fifthRound[0], fifthRound[1]);

    // Lasketaan pelaajan voitetut erät yhteensä:
    let gameScorePlayer = firstRound[0] + secondRound[0] + thirdRound[0] + fourthRound[0] + fifthRound[0];

    // Lasketaan tietokoneen voitetut erät yhteensä:
    let gameScoreComputer = firstRound[1] + secondRound[1] + thirdRound[1] + fourthRound[1] + fifthRound[1];

    console.log("You won " + gameScorePlayer + " round(s). Computer won " + gameScoreComputer + " round(s).");

  </script>
</body>

</html>